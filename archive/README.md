# é¡¹ç›®å½’æ¡£è¯´æ˜

æœ¬ç›®å½•åŒ…å«é¡¹ç›®å†å²æ¼”è¿›è¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–‡æ¡£å’Œè„šæœ¬ï¼Œå·²è¢«æ–°çš„æ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿæ›¿ä»£ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
archive/
â”œâ”€â”€ README.md                      # æœ¬æ–‡ä»¶
â”œâ”€â”€ CLEANUP_SUMMARY.md             # æ¸…ç†æ€»ç»“
â””â”€â”€ legacy_docs_and_scripts/       # å½’æ¡£æ–‡ä»¶ç›®å½•
    â”œâ”€â”€ [10ä¸ªè¯Šæ–­æ–‡æ¡£]            # å†å²è¯Šæ–­å’Œä¿®å¤æ–‡æ¡£
    â”œâ”€â”€ [21ä¸ªSQLè„šæœ¬]             # æ•°æ®åº“æ›´æ–°å’Œä¿®å¤è„šæœ¬
    â””â”€â”€ [1ä¸ªShellè„šæœ¬]            # è¯Šæ–­è„šæœ¬
```

## ğŸ“Š å½’æ¡£ç»Ÿè®¡

- **æ–‡æ¡£**: 10 ä¸ª
- **SQL è„šæœ¬**: 21 ä¸ª
- **Shell è„šæœ¬**: 1 ä¸ª
- **æ€»è®¡**: 32 ä¸ªæ–‡ä»¶

## âš ï¸ é‡è¦è¯´æ˜

è¿™äº›æ–‡ä»¶å·²**è¿‡æ—¶**ï¼Œä¸åº”å†ä½¿ç”¨ï¼Œå› ä¸ºï¼š

1. âœ… æ–°çš„æ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿå·²å»ºç«‹
   - ä½ç½®: `database/`
   - å®Œæ•´æŒ‡å—: `database/DATABASE_VERSION_CONTROL.md`

2. âœ… æ–°çš„å·¥å…·è„šæœ¬å·²åˆ›å»º
   - ä½ç½®: `scripts/db/`
   - åŒ…æ‹¬éªŒè¯ã€æ£€æŸ¥ã€åˆ—å‡ºè¿ç§»ç­‰åŠŸèƒ½

3. âœ… æ‰€æœ‰å†å²å˜æ›´å·²æ•´åˆåˆ° baseline schema
   - ä½ç½®: `database/snapshot/20250210_baseline_schema.sql`

## ğŸ” å¦‚ä½•æŸ¥æ‰¾å†å²ä¿¡æ¯

å¦‚æœéœ€è¦äº†è§£æŸä¸ªé—®é¢˜çš„å†å²è§£å†³æ–¹æ¡ˆï¼š

1. **æ•°æ®åº“ç»“æ„æ¼”è¿›** â†’ æŸ¥çœ‹ `update_schema*.sql` æ–‡ä»¶
2. **å‰åç«¯ä¸åŒ¹é…é—®é¢˜** â†’ æŸ¥çœ‹ `*_MISMATCH*.md` æ–‡ä»¶
3. **ç»Ÿè®¡æ•°æ®ä¿®å¤** â†’ æŸ¥çœ‹ `*STATS*.md` å’Œ `fix_stats*.sql` æ–‡ä»¶
4. **è¯åº“å»é‡** â†’ æŸ¥çœ‹ `library_deduplication_update.md`

## ğŸš€ æ¨èåšæ³•

**éœ€è¦ä¿®æ”¹æ•°æ®åº“ï¼Ÿ** â†’ ä½¿ç”¨æ–°çš„è¿ç§»ç³»ç»Ÿï¼š

```bash
# 1. åˆ›å»ºæ–°è¿ç§»
cp database/migrations/template.sql database/migrations/YYYYMMDD_description.sql

# 2. ç¼–è¾‘è¿ç§»æ–‡ä»¶
vim database/migrations/YYYYMMDD_description.sql

# 3. åº”ç”¨è¿ç§»
# é€šè¿‡ Supabase Dashboard SQL Editor

# 4. æäº¤åˆ° Git
git add database/migrations/YYYYMMDD_description.sql
git commit -m "feat: describe your changes"
```

**éœ€è¦æ£€æŸ¥å‰åç«¯ä¸€è‡´æ€§ï¼Ÿ** â†’ ä½¿ç”¨æ–°è„šæœ¬ï¼š

```bash
./scripts/db/verify-frontend-backend-alignment.sh
```

---

*å½’æ¡£æ—¶é—´: 2025-02-10*
*å½’æ¡£åŸå› : å»ºç«‹æ­£å¼æ•°æ®åº“ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ*
